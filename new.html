<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

    <title>Document</title>
    <style>
        /* @import url("https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&display=swap"); */

:root {
  --color-dark: #0f172a;
  --color-light: #f8fafc;
  --color-accent-1: #38bdf8;
  --color-accent-2: #818cf8;
  --color-accent-3: #c084fc;
  --color-accent-4: #fb7185;
  --font-primary: "Space Grotesk", sans-serif;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: var(--font-primary);
  background-color: var(--color-dark);
  color: var(--color-light);
  overflow: hidden;
  height: 100vh;
}

.preloader {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100vh;
  background-color: var(--color-dark);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1000;
}

.loader-container {
  position: relative;
  width: 200px;
  height: 200px;
  display: flex;
  justify-content: center;
  align-items: center;
}

.progress-ring {
  transform: rotate(-90deg);
}

.progress-ring-bg {
  fill: transparent;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 4px;
}

.progress-ring-circle {
  fill: transparent;
  stroke: var(--color-accent-1);
  stroke-width: 4px;
  stroke-dasharray: 565.48; /* 2 * PI * r */
  stroke-dashoffset: 565.48; /* Initial state - fully empty */
  transition: stroke 0.5s ease;
}

.loader-content {
  position: absolute;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

.loading-stage {
  position: relative;
  height: 30px;
  width: 100px;
  overflow: hidden;
}

.stage-current,
.stage-next {
  position: absolute;
  width: 100%;
  text-align: center;
  font-weight: 500;
  letter-spacing: 0.05em;
  text-transform: uppercase;
  font-size: 0.875rem;
}

.stage-current {
  transform: translateY(0);
}

.stage-next {
  transform: translateY(30px);
}

.percentage {
  font-size: 2.5rem;
  font-weight: 700;
  margin-top: 0.5rem;
}

.loader-shapes {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: -1;
  opacity: 0.3;
}

.shape {
  position: absolute;
  background: linear-gradient(
    45deg,
    var(--color-accent-1),
    var(--color-accent-2)
  );
  border-radius: 50%;
  filter: blur(40px);
}

.shape-1 {
  width: 300px;
  height: 300px;
  top: 20%;
  left: 20%;
  transform: translate(-50%, -50%) scale(0);
}

.shape-2 {
  width: 400px;
  height: 400px;
  top: 70%;
  right: 30%;
  background: linear-gradient(
    45deg,
    var(--color-accent-2),
    var(--color-accent-3)
  );
  transform: translate(50%, -50%) scale(0);
}

.shape-3 {
  width: 250px;
  height: 250px;
  bottom: 15%;
  right: 15%;
  background: linear-gradient(
    45deg,
    var(--color-accent-3),
    var(--color-accent-4)
  );
  transform: translate(50%, 50%) scale(0);
}

.content {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100vh;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  z-index: 1;
  opacity: 0;
  visibility: hidden;
  text-align: center;
  padding: 2rem;
}

.content h1 {
  font-size: 3rem;
  font-weight: 700;
  margin-bottom: 1rem;
  opacity: 0;
  transform: translateY(30px);
}

.content p {
  font-size: 1.25rem;
  max-width: 600px;
  opacity: 0;
  transform: translateY(30px);
}

    </style>
</head>
<body>
    <div class="preloader">
        <div class="loader-container">
          <svg class="progress-ring" width="200" height="200">
            <circle class="progress-ring-bg" cx="100" cy="100" r="90"></circle>
            <circle class="progress-ring-circle" cx="100" cy="100" r="90"></circle>
          </svg>
          <div class="loader-content">
            <div class="loading-stage">
              <div class="stage-current">Loading</div>
              <div class="stage-next">Ready</div>
            </div>
            <div class="percentage">0</div>
          </div>
        </div>
        <div class="loader-shapes">
          <div class="shape shape-1"></div>
          <div class="shape shape-2"></div>
          <div class="shape shape-3"></div>
        </div>
      </div>
      
      <main class="content">
        <h1>Welcome to the Experience</h1>
        <p>The future is already here, it's just not evenly distributed.</p>
      </main>

      <script>
        // Wait for DOM to be fully loaded
document.addEventListener("DOMContentLoaded", () => {
  // Elements
  const progressCircle = document.querySelector(".progress-ring-circle");
  const percentageElement = document.querySelector(".percentage");
  const stageCurrent = document.querySelector(".stage-current");
  const stageNext = document.querySelector(".stage-next");
  const preloader = document.querySelector(".preloader");
  const content = document.querySelector(".content");
  const title = document.querySelector(".content h1");
  const paragraph = document.querySelector(".content p");
  const shapes = document.querySelectorAll(".shape");

  // Calculate the circumference of the circle
  const radius = progressCircle.getAttribute("r");
  const circumference = 2 * Math.PI * radius;

  // Color stages
  const colorStages = [
    { accent: "#38bdf8", bg: "#0f172a" }, // Stage 1: Blue
    { accent: "#818cf8", bg: "#131c2e" }, // Stage 2: Indigo
    { accent: "#c084fc", bg: "#1a2234" }, // Stage 3: Purple
    { accent: "#fb7185", bg: "#1e283a" } // Stage 4: Pink
  ];

  // Set initial stroke-dasharray and stroke-dashoffset
  progressCircle.style.strokeDasharray = circumference;
  progressCircle.style.strokeDashoffset = circumference;

  // Initialize GSAP timeline
  const tl = gsap.timeline();

  // Animate in the shapes
  tl.to(shapes, {
    scale: 1,
    duration: 2,
    stagger: 0.3,
    ease: "power3.out"
  });

  // Progress animation
  tl.to(
    progressCircle,
    {
      strokeDashoffset: 0,
      duration: 5,
      ease: "power1.inOut",
      onUpdate: function () {
        // Calculate and update percentage
        const progress = Math.round(
          (1 - progressCircle.style.strokeDashoffset / circumference) * 100
        );
        percentageElement.textContent = progress;

        // Update colors based on progress
        updateColors(progress);

        // Grow shapes based on progress
        updateShapes(progress);
      }
    },
    0
  );

  // Animate to completion
  tl.to([stageCurrent, stageNext], {
    y: "-=30",
    duration: 0.8,
    ease: "power2.inOut"
  })
    .to(preloader, {
      y: "-100vh",
      duration: 1.2,
      ease: "power3.inOut",
      delay: 0.8
    })
    .set(
      content,
      {
        visibility: "visible"
      },
      "<"
    )
    .to(
      content,
      {
        opacity: 1,
        duration: 1,
        ease: "power2.out"
      },
      "<0.3"
    )
    .to(
      [title, paragraph],
      {
        opacity: 1,
        y: 0,
        duration: 1,
        stagger: 0.2,
        ease: "power2.out"
      },
      "<0.2"
    )
    .set(preloader, {
      display: "none"
    });

  // Function to update colors based on progress
  function updateColors(progress) {
    const stage = Math.floor(progress / 25);
    if (stage < colorStages.length) {
      progressCircle.style.stroke = colorStages[stage].accent;
      document.documentElement.style.setProperty(
        "--color-dark",
        colorStages[stage].bg
      );
      document.documentElement.style.setProperty(
        "--color-accent-1",
        colorStages[0].accent
      );
      document.documentElement.style.setProperty(
        "--color-accent-2",
        colorStages[1].accent
      );
      document.documentElement.style.setProperty(
        "--color-accent-3",
        colorStages[2].accent
      );
      document.documentElement.style.setProperty(
        "--color-accent-4",
        colorStages[3].accent
      );
    }
  }

  // Function to update shapes based on progress
  function updateShapes(progress) {
    const scaleValue = 1 + progress / 100;

    if (progress > 25) {
      gsap.to(shapes[0], {
        scale: scaleValue,
        ease: "power1.out",
        duration: 0.5
      });
    }
    if (progress > 50) {
      gsap.to(shapes[1], {
        scale: scaleValue,
        ease: "power1.out",
        duration: 0.5
      });
    }
    if (progress > 75) {
      gsap.to(shapes[2], {
        scale: scaleValue,
        ease: "power1.out",
        duration: 0.5
      });
    }
  }
});

      </script>
</body>
</html>